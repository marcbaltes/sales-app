<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Alerting</title>
   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

   <!-- CSS files -->
   <link rel="stylesheet" href="./styles/hover.css">
   <link rel="stylesheet" href="./styles/main.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/core.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/legacy-styles.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/sessionTimeout.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/coremenu.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/c3-0.4.10.min.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/chartGenerator.css">
   <link rel="stylesheet" type="text/css" href="./care-planning-screens/Care Plan Triggers - 1_files/smartalertsnotifications.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/chosen-0.9.8.css">
   <link type="text/css" rel="stylesheet" href="./care-planning-screens/Care Plan Triggers - 1_files/clientheader.css" media="screen,print">

   <script src="./care-planning-screens/Care Plan Triggers - 1_files/jquery-1.9.0.min.js.download"></script>

   <!-- Icon -->
   <link rel="icon" href="./icons/circlelogo.png">

   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113647301-2"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-113647301-2');
   </script>
   
</head>
<body style="height: 10px;" id="body">  
   <!-- Static Navbar -->
   <nav class="navbar navbar-expand bg-nav py-0 alertingNav" style="background-color: rgb(204, 190, 135);">
      <a href="./index.html" class="nav-item" id="homeBtn" style="margin-left:-16px;">
         <img class="img" id="homeImg" src="./icons/mandon-icon.png" alt="Home">
      </a>
      <ul class="navbar-nav">
         <li class="nav-item" style="margin-left: 5px;">
            <a href="./MDS-PDPM.html" class="nav-link imgBtn">
               <img class="img arrowImg overlay hvr-grow" src="./icons/angle-left.png" alt="info" height="80px" width="50px">
            </a>
         </li>
      </ul>
      <ul class="navbar-nav">
         <li class="nav-item">
            <a class="carousel-control-next imgBtn carousel-control-page-prev" href="#carouselSlide" role="button" data-slide="prev">
               <img class="img-fluid arrowImgSm overlay hvr-grow" id="prevBtn" src="./icons/angle-left.png" alt="info" onclick="updateIndex(event)">
            </a>
         </li>
      </ul>
      <ul class="navbar-nav m-auto">
      <li class="nav-item">
            <a href="./Alerting.html" class="ARnav-link">
               <button class="feature-btn ARfeature">Alerting</button>
            </a>
         </li>
         <li class="nav-item ARnotFeature">
            <a href="./AcuityRanking.html" class="ARnav-link">
               <button class="feature-btn">Acuity Ranking</button>
            </a>
         </li>
         <li class="nav-item ARnotFeature">
            <a href="./CareOversight.html" class="ARnav-link">
               <button class="feature-btn">Care Oversight</button>
            </a>
         </li>
         <li class="nav-item ARnotFeature">
            <a href="./Analytics.html" class="ARnav-link">
               <button class="feature-btn">Analytics</button>
            </a>
         </li>
      </ul>
      <ul class="navbar-nav">
         <li class="nav-item">
            <a class="carousel-control-next imgBtn carousel-control-page-next" href="#carouselSlide" role="button" data-slide="next">
               <img class="img-fluid arrowImgSm overlay hvr-grow" id="nextBtn" onclick="updateIndex(event)" src="./icons/angle-right.png" alt="info">
            </a>
         </li>
      </ul>
      <ul class="navbar-nav">
         <li class="nav-item" style="margin-right: 5px;">
            <a href="./AcuityRanking.html" class="nav-link imgBtn">
               <img class="img arrowImg overlay hvr-grow" src="./icons/angle-right.png" alt="info" height="80px" width="50px">
            </a>
         </li>
      </ul>
      <a href="#" class="nav-item imgBtn" id="info" style="margin-right:-10px;" onclick="showModal(event)">
         <img class="img-fluid infoImg hvr-grow" src="./icons/infobtn2.png" alt="info">
      </a>
      <!-- Info Modal -->
      <div class="modal fade" id="infoModal">
         <div class="modal-dialog modal-lg">
            <div class="modal-content">
               <div class="modal-body">
                  <h6 class="modalText" id="bodyText">screen 1 text</h6>
                  <hr>
                  <h6 class="modalText"><b>Supporting Documents</b></h6>
                  <a href="#" onclick="saveIndex(event)"><h6 id="graphic2" class="modalText">Existing UDA Experience</h6></a>
                  <a href="#" onclick="saveIndex(event)"><h6 id="graphic3" class="modalText">New Evaluation Experience</h6></a>
                  <a href="#" onclick="saveIndex(event)"><h6 id="graphic4" class="modalText">COMS Evaluations List</h6></a>
               </div>
               <button class="btn-lg closeBtn" type="button" style="border-width: 0px; border-radius: 0px; background-color: dimgrey" data-dismiss="modal"><h6 class="imgBtn modalText" style="margin-bottom: -1px; color: white;">Close</h6></button>
            </div>
         </div>
      </div>
   </nav>

   <!-- Carousel -->
   <div id="carouselSlide" class="carousel slide fullPage" data-ride="carousel" data-interval="false">
      <ol class="carousel-indicators fixed-bottom">
         <li data-target="#carouselSlide" style="background-color: rgb(204, 190, 135);" id="btn0" data-slide-to="0" class="active" onclick="indicatorUpdate(event)"></li>
         <li data-target="#carouselSlide" style="background-color: rgb(204, 190, 135);" id="btn1" onclick="indicatorUpdate(event)" data-slide-to="1"></li>
         <li data-target="#carouselSlide" style="background-color: rgb(204, 190, 135);" id="btn2" onclick="indicatorUpdate(event)" data-slide-to="2"></li>
         <li data-target="#carouselSlide" style="background-color: rgb(204, 190, 135);" id="btn3" onclick="indicatorUpdate(event)" data-slide-to="3"></li>
      </ol>
      <div class="carousel-inner">
         <!-- Screen 1: EAUI Vital Signs -->
         <div class="carousel-item active" id="slide0">
            <div class="container-fluid">
               <H1>Screen 1: </H1>
            </div>
         </div>
         <!-- Screen 2: EAUI Pain Page -->
         <div class="carousel-item" id="slide1">
            <div class="container-fluid">
               <H1>Screen 2: </H1>
            </div>
         </div>
         <!-- Screen 3: EAUI Neuro -->
         <div class="carousel-item" id="slide2">
            <div class="container-fluid">
               <H1>Screen 3: </H1>
            </div>
         </div>
         <!-- Screen 4: EAUI Ed/Notification -->
         <div class="carousel-item" id="slide3">
            <div class="container-fluid">
               <H1>Screen 4: </H1>
            </div>
         </div>
      </div>
   </div>

   <!-- jQuery -->
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
   <!-- Popper.js -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
   <!-- Bootstrap JS -->
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
   <script src="https://hammerjs.github.io/dist/hammer.js"></script>

   <script>
   var slideCount = 3;  // actual slide count + 1
   $(document).ready(function(){
      $('[data-toggle="tooltip"]').tooltip(); 
      $('[data-toggle="popover"]').popover({
         placement : 'left',
         trigger : 'hover'
      });

      getPage();

      //swiping (hammer.js)
      var body = document.getElementById("body");
      var mc = new Hammer(body);
      //enable all directions
      mc.get('swipe').set({
         direction: Hammer.DIRECTION_HORIZONTAL,
         threshold: 0.1, 
         velocity:0.1
      });
      // listen to events...
      mc.on("swipeup swipedown swipeleft swiperight tap press", function(ev) {
         if(ev.type == "swiperight"){
            index--;
            if(index < 0){window.location.href="./MDS-PDPM.html";}
            updateInfoModal(index);
         }
         else if(ev.type == "swipeleft"){
            index++;
            if(index > slideCount){window.location.href="./AcuityRanking.html";}
            updateInfoModal(index);
         }
      });
   });
   

   function showModal(e){
      $("#info").attr("data-toggle", "modal");
      $("#info").attr("data-target", "#infoModal");
   }

   var index = 0;
   function updateIndex(e){
      var id = e.target.id;
      if(id == "prevBtn"){
         index--;
         if(index < 0){
            window.location.href="./MDS-PDPM.html";
         }
      }
      else{
         index++;
         if(index > slideCount){
            window.location.href="./AcuityRanking.html";
         }
      }
      updateInfoModal(index);
   }

   function updateInfoModal(index){
      var bodyText = document.getElementById("bodyText");
      if(index == 6){
         //scrollable screen
         $("#html").addClass("scroll");
         $("#body").addClass("scroll");
      }
      else{
         $("#html").removeClass("scroll");
         $("#body").removeClass("scroll");
         document.body.scrollTop = 0; // For Safari
         document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
      }

      if(index == 0){
         bodyText.innerHTML = "screen 1 text"
      }
      else if(index == 1){
         bodyText.innerHTML = "screen 2 text"
      }
      else if(index == 2){
         bodyText.innerHTML = "screen 3 text"
      }
      else if(index == 3){
         bodyText.innerHTML = "screen 4 text"
      }
   }

   function indicatorUpdate(e){
      var id = e.target.id;
      index = id.substring(3, id.length);
      index = parseInt(index, 10);
      updateInfoModal(index);
   }

   function saveIndex(e){
      var id = e.target.id;
      console.log(id);
      if(id == "graphic2"){
         window.location.href="./evaluations-screens/graphics/OldUDA.html?index=" + index;
      }
      else if(id == "graphic3"){
         window.location.href="./evaluations-screens/graphics/NewUDA.html?index=" + index;
      }
      else{
         window.location.href="./evaluations-screens/graphics/EvaluationsList.html?index=" + index;
      }
   }

   function getPage(){
      var search = document.location.search;
      var location = search.indexOf("=");
      if(location == -1){index = 0;}
      else{index = search[location+1];}

      for(var i = 0; i < slideCount+1; i++){
         //update indicators and slides
         if(i == index){
            $("#btn"+i).attr("class", "active");
            $("#slide"+i).attr("class", "carousel-item active");
         }
         else{
            $("#btn"+i).attr("class", "");
            $("#slide"+i).attr("class", "carousel-item");
         }
      }
      updateInfoModal(index);
   }

   function toggleOutline1(){
      var box = document.getElementById("box1");
      if(box.classList.contains("outlined")){
         box.classList.remove("outlined");
      }
      else{
         box.classList.add("outlined");
      }
   }

   </script>

</body>
</html>