(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{493:function(e,t,a){"use strict";a.r(t);var n,i=a(29),s=a(4),d=a(30),r=a(35),c=a(32),o=a(31),l=a(33),u=a(5),p=a(0),f=a.n(p),m=a(16),b=a(21),I=a(472),S=a(473),g=a(12),C=a(20),v=a(470),h=a(144),N=a.n(h),O=a(465),E=a(460),D=a(22),x=a(141),j=a(6),P=Object(b.withStyles)(v.a)(Object(C.c)(function(e){var t=e.assessmentState;return{locationCadd:t.cadds[D.b.PAIN_LOCATION],painScoreCadd:t.cadds[D.b.PAIN_PAIN_SCORE],descriptionOneCadd:[t.cadds[D.b.PAIN_DESCRIPTION_ONE]],descriptionTwoCadd:[t.cadds[D.b.PAIN_DESCRIPTION_TWO]],painFrequencyCadd:[t.cadds[D.b.PAIN_PAIN_FREQUENCY]],nonMedicalInterventionsCadd:[t.cadds[D.b.PAIN_NON_MEDICAL_INTERVENTIONS]],reliefFromInterventionsCadd:t.cadds[D.b.PAIN_RELIEF_FROM_INTERVENTIONS],medicatedForPainCadd:[t.cadds[D.b.PAIN_MEDICATED_FOR_PAIN]],painStatusCadd:t.cadds[D.b.PAIN_STATUS],displayPainIssueDialog:t.showPainIssueDialog,issueIdCadd:t.cadds[D.b.PAIN_CONDITION_ID]}},function(e,t){return{appStateUpdateCadd:function(a,n){a.uniqueId=t.issue?t.issue.id:null,e(Object(g.K)(a,!1))},appStateShowHidePainIssueDialog:function(){return e(Object(g.D)())},appStateSaveIssueData:function(t,a,n,i,s,d,r){return e(Object(g.z)(t,a,n,i,s,d,r))}}})(function(e){var t=e.classes,a=e.appStateUpdateCadd,n=e.appStateSaveIssueData,i=e.displayPainIssueDialog,d=e.appStateShowHidePainIssueDialog,r=(e.existingIssue,e.locationCadd),c=e.painScoreCadd,o=e.descriptionOneCadd,l=e.descriptionTwoCadd,u=e.painFrequencyCadd,p=e.nonMedicalInterventionsCadd,b=e.reliefFromInterventionsCadd,I=e.medicatedForPainCadd,S=e.painStatusCadd,g=e.issue,C=e.area,v=e.SelectArea,h=e.issueIdCadd,D=C?x.a.filter(function(e){return e.bodyMapArea===C.name}).map(function(e){return e.utilityMapValue}):[],P=r.lv.filter(function(e){return D.includes(e.map)}).map(function(e){return Object(s.a)({},e,{sort:x.a.find(function(t){return t.utilityMapValue===e.map}).sort})}).sort(function(e,t){return e.sort-t.sort}),w=h.input.length>0?h.input[0]:null,A=function(){return g&&g.status===j.c.needsReview?g.status:S.input.length>0?S.lv.find(function(e){return e.map===S.input[0]}).name:null};return f.a.createElement(m.g,{classes:{paperScrollPaper:t.issueDialog},disableBackdropClick:!0,disableEscapeKeyDown:!0,open:i,maxWidth:!1},f.a.createElement("div",{className:t.dialogHeaderContainer},f.a.createElement("div",{className:t.dialogTitle},"Pain Issue"+(null!==w&&" - ".concat(w)||"")+(null!==A()&&" - ".concat(A())||"")),f.a.createElement("div",{className:t.dialogExit},f.a.createElement(m.t,{className:t.exitButton,id:"exitBtn",color:"inherit","aria-label":"Exit",onClick:function(){d()}},f.a.createElement(N.a,null)))),g&&g.status!==j.c.default&&g.status!==j.c.newIssue&&f.a.createElement("div",{id:"follow-on-area",className:t.dialogContentContainer},f.a.createElement("div",{className:[t.dialogContentFull,t.subSectionMargin].join(" ")},f.a.createElement(E.a,{id:"painStatusCadd",question:"Status",CADD:S,updateCADD:a}))),f.a.createElement("div",{className:t.dialogContentContainer},f.a.createElement("div",{className:t.dialogContentLeft},f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"locationCadd",labelName:"Pain Location",isRequired:r.input&&0===r.input.length,caddData:Object(s.a)({},r,{lv:P}),updateCadd:function(e){var t=Object(s.a)({},e);t.lv=r.lv,a(t)}})),f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"painScoreCadd",labelName:"Pain Score",caddData:c,updateCadd:a})),f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"descriptionOneCadd",labelName:"Description 1",caddData:o,updateCadd:a})),f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"descriptionTwoCadd",labelName:"Description 2",caddData:l,updateCadd:a}))),f.a.createElement("div",{className:t.dialogContentRight},f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"painFrequencyCadd",labelName:"Frequency",caddData:u,updateCadd:a})),f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"nonMedicalInterventionsCadd",labelName:"Non-Medication Interventions",caddData:p,updateCadd:a})),b&&!b.disabled&&f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"reliefFromInterventionsCadd",labelName:"Relief from Non-Medication Interventions",caddData:b,updateCadd:a})),I&&!I[0].disabled&&f.a.createElement("div",{className:t.subSectionMargin},f.a.createElement(O.a,{id:"medicatedForPainCadd",labelName:"Medicated for Pain",caddData:I,updateCadd:a})))),f.a.createElement("div",{className:t.dialogFooter},f.a.createElement(m.a,{disabled:!r.input||0===r.input.length||!c.input||0===c.input.length||!(!g||g.status!==j.c.needsReview||S.input&&0!==S.input.length),color:"primary",variant:"contained",classes:{containedPrimary:t.buttonPrimaryContained,disabled:t.buttonDisabled},onClick:function(){var t=e.issue?e.issue.id:null,a=c.lv.find(function(e){return e.map===c.input[0]}),i=a?"Pain Issue: "+a.name:"",s=x.a.find(function(e){return e.utilityMapValue===r.input[0]}).locationName;n(t,C,"SK-PAIN",i,h.idx,S.idx,s),v(C,t),d()}},g?"UPDATE":"OK")))})),w=a(471);a(464);a.d(t,"Pain",function(){return M});var A=(n={},Object(u.a)(n,j.c.default,{line1:"Click to add issue."}),Object(u.a)(n,"notDefault",{line1:"Area has issue",line2:"Click to add issue"}),n),y=function(e){return e===j.c.changed?25:e===j.c.noChange?20:e===j.c.resolved?15:e===j.c.newIssue?10:0},M=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){a.props.appStateToggleNotesButton(D.h.PAIN_NOTES,"Pain Notes")},a.SelectArea=function(e,t){var n=Object(s.a)({},a.state.areaStatuses);n[e.name]=j.c.newIssue,a.setState(Object(s.a)({},a.state,{selectedArea:e,newIssues:[],areaStatuses:n}))},a.DeleteNewIssue=function(e){var t=Object(s.a)({},a.state);t.areaStatuses=Object(s.a)({},t.areaStatuses);var n=a.state.neededExistingUpdates-1;t.neededExistingUpdates=n;var i=Object.values(a.props.appStatePain.issues),d=x.a.find(function(t){return t.locationName===e.location});i.length>0?(i.filter(function(e){return x.a.find(function(t){return t.locationName===e.location}).bodyMapArea===d.bodyMapArea}).length,t.areaStatuses[d.bodyMapArea]=j.c.default):t.areaStatuses[d.bodyMapArea]=j.c.default,a.setState(Object(s.a)({},t))};var n=a.props.appStatePain,i=Object(j.a)(Object.keys(n.issues).length>0?j.c.disabled:j.c.default),r=Object.values(n.issues).filter(function(e){return e.status.toUpperCase()!==j.c.newIssue}).map(function(e){var t={},n=e.issue.find(function(e){return e.idx===a.props.painScoreCadd.idx}),s=n?a.props.painScoreCadd.lv.find(function(e){return e.map===n.input[0]}):null,d=s?"Pain score: "+s.name:"";return t.id=e.id,t.issue=e.issue,t.location=e.location,t.status=e.status,t.template=e.template,t.displayText=d,i[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea]=j.c[Object.keys(j.c).find(function(t){return j.c[t]===e.status.toUpperCase()})],t});return a.state={areaStatuses:i,existingIssues:r,newIssues:[],neededExistingUpdates:r.length,existingUpdatesCleared:!1},a.existingUpdatesCleared=!1,a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"UpdateExistingIssue",value:function(e){var t=this.state,a=Object(i.a)(this.state.existingIssues),n=a.findIndex(function(t){return t.id===e.id}),d=a[n],r=this.state.areaStatuses;d.status=j.c.resolved,a[n]=Object(s.a)({},d),t.existingIssues=a;var c=this.state.neededExistingUpdates-1;t.neededExistingUpdates=c,c<=0&&(r=Object(j.a)(j.c.default),t.existingIssues.forEach(function(e){r[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea]=e.status.toUpperCase()})),t.areaStatuses=r,this.setState(Object(s.a)({},t))}},{key:"ClearSelectedId",value:function(){var e=this.state;e.selectedIssue&&e.selectedIssue.issue.length>0&&(e.selectedIssue=null,this.setState(Object(s.a)({},e)))}},{key:"SetSelectedArea",value:function(e){var t=this.state;t.selectedArea=e,this.setState(Object(s.a)({},t))}},{key:"MaxIssueCountReached",value:function(){return Object.values(this.props.appStatePain.issues).filter(function(e){return!0!==e.delete}).length===this.props.appStatePain.maxIssues}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.appStateUpdateCadd,i=t.appStateShowHidePainIssueDialog,d=t.appStateloadIssueData,r=t.appStateShowHideDeleteIssueDialog,c=t.painIndicatorCadd;return p.createElement(p.Fragment,null,p.createElement("div",{className:a.upperContainer},p.createElement("div",{className:a.leftContent},c&&!c[0].disabled&&0===this.state.newIssues.filter(function(e){return!0!==e.delete}).length&&0===this.state.existingIssues.length&&p.createElement("div",{className:a.subSectionMargin},p.createElement(O.a,{id:"painIndicatorCadd",labelName:"Indicators of Pain",caddData:Object(s.a)({},c[0],{lv:c[0].lv}),updateCadd:n})),c&&!c[0].disabled&&(this.state.newIssues.filter(function(e){return!0!==e.delete}).length>0||this.state.existingIssues.length>0)&&p.createElement("div",{className:a.subSectionMargin},p.createElement(O.a,{id:"painIndicatorCadd",labelName:"Indicators of Pain",caddData:Object(s.a)({},c[0],{lv:c[0].lv.filter(function(e){return"None"!==e.name})}),updateCadd:function(e){var t=Object(s.a)({},e);t.lv=c[0].lv,n(t)}}))),p.createElement("div",{className:a.rightContent},p.createElement("div",{className:a.subSectionMargin},p.createElement(m.D,{variant:"body2"},"Click the body diagram to add pain issue(s)")),p.createElement(I.a,{areaStatuses:this.state.areaStatuses,id:"Pain-BodyImageMap",popOverText:A,onClick:function(t){e.MaxIssueCountReached()||(e.ClearSelectedId(),e.SetSelectedArea(t),i(),d("","SK-PAIN"))},disableMapClick:this.state.neededExistingUpdates>0}),p.createElement("div",{className:a.issueListings},Object.values(this.state.existingIssues).length>0&&p.createElement(S.a,{issues:Object.values(this.state.existingIssues).filter(function(e){return!e.delete}),label:"Review the existing pain issues before adding new pain issues from the body diagram",onEditClick:function(t){var a=x.a.find(function(e){return e.locationName===t.location}).bodyMapArea;e.setState(Object(s.a)({},e.state,{selectedIssue:t,selectedArea:{name:a}})),d(t.id,t.template),i()},onUpdateClick:function(t){var a=x.a.find(function(e){return e.locationName===t.location}).bodyMapArea;e.setState(Object(s.a)({},e.state,{selectedIssue:t,selectedArea:{name:a}})),d(t.id,t.template),i()}}),this.state.neededExistingUpdates<=0&&p.createElement(S.a,{issues:Object.values(this.state.newIssues).filter(function(e){return e.status.toUpperCase()===j.c.newIssue&&!e.delete}),onEditClick:function(t){var a=x.a.find(function(e){return e.locationName===t.location}).bodyMapArea;e.setState(Object(s.a)({},e.state,{selectedIssue:t,selectedArea:{name:a}})),d(t.id,t.template),i()},onDeleteClick:function(t){e.setState(Object(s.a)({},e.state,{selectedIssue:t})),r()}})),p.createElement(P,{SelectArea:this.SelectArea,area:this.state.selectedArea,issue:this.state.selectedIssue}),p.createElement(w.a,{deleteData:function(t){return e.DeleteNewIssue(t)},issue:this.state.selectedIssue}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=Object(s.a)({},t);a.areaStatuses=Object(s.a)({},t.areaStatuses);var n=Object.values(e.appStatePain.issues),i=n.filter(function(e){return!0!==e.delete}).length===e.appStatePain.maxIssues;n.forEach(function(t){var a=t.issue.find(function(t){return t.idx===e.locationCadd.idx});t.location=a?e.locationCadd.lv.find(function(e){return e.map===a.input[0]}).name:t.location;var n=t.issue.find(function(t){return t.idx===e.painScoreCadd.idx}),i=n?e.painScoreCadd.lv.find(function(e){return e.map===n.input[0]}):null;t.displayText=i?"Pain score: "+i.name:""}),a.newIssues=n.filter(function(e){return e.status.toUpperCase()===j.c.newIssue&&!e.delete}),a.existingIssues=n.filter(function(e){return e.status.toUpperCase()!==j.c.newIssue});var d=n.filter(function(e){return e.delete});if(a.neededExistingUpdates=a.existingIssues.filter(function(e){return e.status.toUpperCase()===j.c.needsReview}).length,a.neededExistingUpdates<=0&&!a.existingUpdatesCleared&&!i?(a.areaStatuses=Object(j.a)(j.c.default),a.existingUpdatesCleared=!0):a.neededExistingUpdates<=0&&!i&&(a.areaStatuses=Object(j.a)(j.c.default)),d.forEach(function(e){a.areaStatuses[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea]=j.c.default}),a.newIssues.forEach(function(e){(a.areaStatuses[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea]===j.c.default||i)&&(a.areaStatuses[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea]=e.status.toUpperCase())}),a.existingIssues.forEach(function(e){var t=a.areaStatuses[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea],n=y(t.toUpperCase());y(e.status.toUpperCase())>n&&(a.areaStatuses[x.a.find(function(t){return t.locationName===e.location}).bodyMapArea]=e.status.toUpperCase())}),(i||"e"===e.painIndicatorCadd[0].input[0])&&Object.keys(a.areaStatuses).forEach(function(e){a.areaStatuses[e]===j.c.default&&(a.areaStatuses[e]=j.c.disabled)}),"e"===e.painIndicatorCadd[0].input[0]&&Object.keys(e.appStatePain.issues).length>0){var r=Object(j.a)(j.c.default);Object.values(e.appStatePain.issues).forEach(function(e){r[e.location]=j.c.default}),e.appStateDeleteIssue("","SK-PAIN",!0),a.areaStatuses=r}return Object(s.a)({},a)}}]),t}(p.Component);t.default=Object(C.c)(function(e){var t=e.assessmentState;return{appStatePain:t.bodySystems["SK-PAIN"],appStateDisplayIssueDialog:t.showIssueDialog,displayDeleteIssueDialog:t.showDeleteIssueDialog,painIndicatorCadd:[t.cadds[D.b.PAIN_INDICATORS_OF_PAIN]],locationCadd:t.cadds[D.b.PAIN_LOCATION],painScoreCadd:t.cadds[D.b.PAIN_PAIN_SCORE],displayPainIssueDialog:t.showPainIssueDialog}},function(e){return{appStateUpdateCadd:function(t){return e(Object(g.K)(t))},appStateloadIssueData:function(t,a){return e(Object(g.v)(t,a))},appStateDeleteIssue:function(t,a,n){return e(Object(g.p)(t,a,n))},appStateShowHidePainIssueDialog:function(){return e(Object(g.D)())},appStateShowHideDeleteIssueDialog:function(){return e(Object(g.B)())},appStateToggleNotesButton:function(t,a){return e(Object(g.H)(t,a))}}})(Object(b.withStyles)(function(e){var t;return{upperContainer:(t={display:"flex",flexDirection:"row"},Object(u.a)(t,e.breakpoints.down("md"),{flexDirection:"column"}),Object(u.a)(t,e.breakpoints.down("sm"),{marginLeft:"16px"}),t),lowerContainer:{display:"flex",flexDirection:"row"},leftContent:Object(u.a)({width:"50%",marginRight:25},e.breakpoints.down("sm"),{width:"100%",marginRight:25}),rightContent:Object(u.a)({width:"50%",display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.down("sm"),{width:"100%"}),issueListings:Object(u.a)({marginTop:30},e.breakpoints.down("sm"),{minWidth:340}),subSectionMargin:Object(u.a)({marginBottom:"24px"},e.breakpoints.down("sm"),{marginLeft:0,marginRight:25}),modalHeaderContainer:{display:"flex",flexDirection:"row",minWidth:300,background:"#4a90e2",color:"#FFFFFF",padding:15,fontFamily:"roboto",fontSize:18},modalTitle:{width:"99%",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center"},modalExit:{textAlign:"right"},modalContentContainer:{display:"flex",flexDirection:"row",maxHeight:850,overflow:"auto",padding:15,fontFamily:"roboto",fontSize:14},modalContent:{marginLeft:25,minWidth:300,width:"100%"},exitButton:{padding:0}}})(M))}}]);
//# sourceMappingURL=24.a775745d.chunk.js.map